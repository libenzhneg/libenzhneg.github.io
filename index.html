<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="Benzheng Li">


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="李本正技术博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="李本正技术博客">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="李本正技术博客">

<link rel="apple-touch-icon" href="/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="李本正技术博客" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>李本正技术博客</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: 
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Benzheng Li</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/index/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">分类标签</a></li>
                        
                            <li><a href="/archives/">随笔</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术分享/">技术分享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术分享的启程/">技术分享的启程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/配置/">配置</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Benzheng Li</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Benzheng Li</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/index/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">分类标签</a></li>
                
                    <li><a href="/archives/">随笔</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我">
</nav>
      <div class="body-wrap">
  
    <article id="post-react-项目配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/05/06/react-项目配置/" class="article-date">
      <time datetime="2019-05-06T08:47:17.000Z" itemprop="datePublished">2019-05-06</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/06/react-项目配置/">react 项目配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="注意事项（报错）"><a href="#注意事项（报错）" class="headerlink" title="注意事项（报错）"></a>注意事项（报错）</h4><pre><code>npm install -g cnpm --registry=https://registry.npm.taobao.org
&apos;react-scripts&apos; 不是内部或外部命令，也不是可运行的程序
或批处理文件。

    // 有时在安装完其他组件后，再次运行 npm start 命令时会报以上错误，
    ## 解决方案1：
    npm install react-scripts
    安装完成后再次运行 npm start 即可
    ## 解决方案2：
    删除modules 文件
    npm install
    安装完成后再次运行 npm start 即可
</code></pre><h3 id="安装的单词缩写"><a href="#安装的单词缩写" class="headerlink" title="安装的单词缩写"></a>安装的单词缩写</h3><pre><code>==&gt; i = install （安装）
&gt; -g = global (全局)

&gt; -S = --save (发布到开发环境)

&gt; -D = --save-dev (发布到生产环境)
</code></pre><h4 id="引入了三个库文件"><a href="#引入了三个库文件" class="headerlink" title="引入了三个库文件"></a>引入了三个库文件</h4><pre><code>react.min.js - React 的核心库
react-dom.min.js - 提供与 DOM 相关的功能
babel.min.js - Babel 可以将 ES6 代码转为 ES5 代码，这样我们就能在目前不支持 ES6 浏览器上执行 React 代码。Babel 内嵌了对 JSX 的支持。通过将 Babel 和 babel-sublime 包（package）一同使用可以让源码的语法渲染上升到一个全新的水平。
</code></pre><h4 id="安装公共仓库"><a href="#安装公共仓库" class="headerlink" title="安装公共仓库"></a>安装公共仓库</h4><pre><code>###### npm i redux -S

创建 store -&gt; index.js  reducer.js  actionCreators.js  actionTypes.js

// index.js (调试工具&gt;安装 REDUX_DEVTOOLS)

import { createStore } from &apos;redux&apos;;
import reducer from &apos;./reducer&apos;;

const store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__());
export default store;

// actionTypes.js  
export const CHANGE_INPUT_VALUE = &apos;change-inpue-value&apos;;

// actionCreators.js      
import { CHANGE_INPUT_VALUE } from &apos;./actionTypes&apos;;
export const getInputChangeAction = (value) =&gt; ({
    type: CHANGE_INPUT_VALUE,
    value
});

//  reducer.js
import { CHANGE_INPUT_VALUE } from &apos;./actionTypes&apos;;
const defaultState = {
    inputValue: &apos;222&apos;,
    list: [&apos;ewewee&apos;,&apos;ewewe&apos;]
};
export default (state = defaultState, action) =&gt; {
    if (action.type === CHANGE_INPUT_VALUE) {
        const NewState = JSON.parse(JSON.stringify(state));
        NewState.inputValue = action.value;
        return NewState;
    }
    return state;
}


// 组件调用

import store from &apos;./store/index&apos;
import { getInputChangeAction } from &apos;./store/actionCreators&apos;;

constructor(props) {
    super(props);
    console.log(store.getState())
    this.state = {

    }
    this.chageget = this.chageget.bind(this)
    store.subscribe(this.chageget) // 数据改变是更新
}

chageget() {
    console.log(store.getState())
}

// 获取数据

store.getState()

 // 添加数据

handleInputValue(event) {
&lt;!--const action = {--&gt;
&lt;!--  type: &apos;change_input_value&apos;,--&gt;
&lt;!--  value: event.target.value--&gt;
&lt;!--}--&gt;
const action = getInputChangeAction(event.target.value);
store.dispatch(action);
};
</code></pre><h3 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h3><pre><code>数据放入缓存
localStorage.setItem(&apos;user&apos;,values.username);

缓存中取数据
localStorage.getItem(&apos;user&apos;);
</code></pre><h6 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h6><p>npm i react-redux -S</p>
<h6 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h6><p>npm i redux-thunk -S</p>
<pre><code>// index.js (调试工具&gt;安装 REDUX_DEVTOOLS)
import { createStore, applyMiddleware, compose } from &apos;redux&apos;;
import thunk from &apos;redux-thunk&apos;;
import reducer from &apos;./reducer&apos;;

const composeEnhancers =  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;
const enhancer = composeEnhancers(
    applyMiddleware(thunk),
)
const store = createStore(reducer,enhancer);
export default store;

// actionCreators.js
import { CHANGE_INPUT_VALUE } from &apos;./actionTypes&apos;;
import axios from &apos;axios&apos;;  
export const getInputChangeAction = (value) =&gt; ({
type: CHANGE_INPUT_VALUE,
value
});
export const getList = () =&gt; {
return (dispatch) =&gt; {
    axios.get(url ,{page: 1, limit: 10, token:token}).then((res)=&gt;{
        const data = res.data.data.list;
        const action = getInputChangeAction(data);
        dispatch(action);
    })
}
}

 // 组件调用
import store from &apos;./store/index&apos;;
import { getInputChangeAction, getList } from &apos;./store/actionCreators&apos;;

getList() {
const action = getList();
store.dispatch(action);
}


npm i redux-sage -S
</code></pre><h6 id="安装路由-react-router-dom"><a href="#安装路由-react-router-dom" class="headerlink" title="安装路由 react-router-dom"></a>安装路由 react-router-dom</h6><p>npm i react-router-dom  -S</p>
<pre><code>// index.js 入口文件
import React from &apos;react&apos;;
import ReactDOM from &apos;react-dom&apos;;
import &apos;antd/dist/antd.css&apos;;   // 框架样式
import &apos;./index.css&apos;;       // 自定义样式
import Index from &apos;./view/common/index&apos;;  // 首页的路径
import { BrowserRouter } from &apos;react-router-dom&apos;; // 路由文件
// HashRouter 和 BrowserRouter 都能实现跳转  HashRouter 前多个 #

ReactDOM.render(
    // 必须要包住路径才能实现跳转
    &lt;BrowserRouter&gt; 
        &lt;Index /&gt;
    &lt;/BrowserRouter&gt;
, document.getElementById(&apos;root&apos;));


// 新建 router -&gt;index.js
import React from &apos;react&apos;;
import {Switch, Route, Redirect} from &apos;react-router-dom&apos;;
import Index from &apos;../view/index/index&apos;;

export default class Routers extends React.Component{
    render() {
        return(
            &lt;Switch&gt;
                &lt;Route path=&quot;/&quot; exact render={()=&gt;(&lt;Redirect to=&quot;/index&quot; /&gt;)}/&gt;
                &lt;Route path=&quot;/index&quot; component={Index}/&gt;
            &lt;/Switch&gt;
        )
    }
}

方法跳转：

this.props.history.push(&apos;/download&apos;)
跳转到外链：

window.location.href = &apos;https://你的url&apos;
</code></pre><h6 id="数据获取-axios"><a href="#数据获取-axios" class="headerlink" title="数据获取 axios"></a>数据获取 axios</h6><pre><code>npm i axios  -S

在package.json中
  &quot;proxy&quot;: &quot;http://service.n.co&quot;


import React from &apos;react&apos;;
import { Table } from &apos;antd&apos;; // antd UL
import axios from &apos;axios&apos;;  

export default class User extends React.Component{
  constructor(props){
    super(props)
    this.state={
      data: []

    }
  };
    componentWillReceiveProps(){
        this.getData();
    }
    getData(){
      let that = this;
      axios.get(&apos;/backend/account/index&apos;,{page: 1, limit: 10, token:token})
      .then((res)=&gt;{
          that.setState({data:res.data.data.list})
      })
      .catch((error)=&gt;{
      });
    };

    render() {
        return(
            &lt;Table dataSource={this.state.data} rowKey=&quot;id&quot; /&gt;
        )
    }
}
</code></pre><h3 id="antd-ul-安装"><a href="#antd-ul-安装" class="headerlink" title="antd ul 安装"></a>antd ul 安装</h3><pre><code>npm i antd  -S

https://ant.design/docs/react/use-with-create-react-app-cn
</code></pre><h4 id="安装：开发环境"><a href="#安装：开发环境" class="headerlink" title="安装：开发环境"></a>安装：开发环境</h4><h5 id="修改配置环境-以适应antd-官网参考"><a href="#修改配置环境-以适应antd-官网参考" class="headerlink" title="修改配置环境,以适应antd(官网参考)"></a>修改配置环境,以适应antd(官网参考)</h5><pre><code>npm i react-app-rewired -D

npm i babel-plugin-import -D  // 按需加载 
</code></pre><h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><pre><code>//站位符可以替代最外围标签

    &lt;Fragment&gt;

//构造函数

    constructor(props) {
    super(props); //调用方法
    this.state = { // 组件状态
        }
    }

// 展开运算符

    this.setState({
                list: [...this.state.list, this.state.inputVal ],
                inputVal: &apos;&apos;
            })

// immutable
// state 不予许我们做任何改变

// 转意
dangerouslySetInnerHTML={{__html: item }}

//  lable 标签

    &lt;label htmlFor=&quot;inp&quot;&gt;输入类容&lt;/label&gt;
                &lt;input id=&quot;inp&quot; className=&quot;input&quot; value={this.state.inputVal} onChange={this.changInput.bind(this)} /&gt;
                &lt;button onClick={this.btnClick.bind(this)}&gt;提交&lt;/button&gt;

###  代码优化

    // 绑定事件
    this.btnClick = this.btnClick.bind(this);

    // 循环渲染封装方法

    getList() {
        return this.state.list.map((item, index) =&gt; {
            return (
                &lt;List 
                    key={index}
                    content={item}  // 向子组件传值
                    index={index}
                    del={this.del}// 向子组件传方法
                /&gt;
            )
        })
    }
    // 子组件调用
    render() {
        const { content } = this.props;
        return(
            &lt;div onClick={this.leClick}&gt;
                {content}
            &lt;/div&gt;
        )
    }

    leClick() {
        const { del, index } = this.props;
        del(index);
    }

    // es6改变状态值方法

    this.setState((prevState) =&gt; ({
            list: [...prevState.list, prevState.inputVal ],
            inputVal: &apos;&apos;
        }));

        del(index) {
        this.setState((prevState) =&gt; {
            let list = [...prevState.list];
            list.splice(index, 1);
            return {list}
        });
    }

// 传值类型

    npm install --save prop-types
        import PropTypes from &apos;prop-types&apos;;
        List.propTypes = {
            test: PropTypes.string.isRequired, //必须传
            test: PropTypes.arrayOf(PropTypes.string, PropTypes.number), // 或者
            content: PropTypes.string,
            del: PropTypes.func,
            index: PropTypes.number
        }
        // 默认值
        List.defaultProps = {
        test: &apos;hello&apos;
    }
</code></pre><h3 id="调试工具"><a href="#调试工具" class="headerlink" title="调试工具"></a>调试工具</h3><pre><code>Reactdevelopertools  REDUX_DEVTOOLS
安装及使用

谷歌浏览器 =&gt; 更多工具 =&gt; 扩展程序 =&gt; 打开谷歌应用商店 =&gt; 搜索 react =&gt; 安装
=&gt; 浏览器中打开开发者工具 =&gt; react
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/前端框架/">前端框架</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术分享/">技术分享</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/配置/">配置</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-小程序方法总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/05/06/小程序方法总结/" class="article-date">
      <time datetime="2019-05-06T08:32:57.000Z" itemprop="datePublished">2019-05-06</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/06/小程序方法总结/">小程序方法总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="小程序自定义函数"><a href="#小程序自定义函数" class="headerlink" title="小程序自定义函数"></a>小程序自定义函数</h3><pre><code>// 在需要的页面顶部引入
&lt;wxs module=&quot;common&quot; src=&quot;../../utils/common.wxs&quot;&gt;&lt;/wxs&gt;
// module  文件名  src 文件的路径

{{common.subStrCut(introduce, 60)}}

// 使用时 common 文件下的 subStrCut 方法 

### common.wxs 

/**
 * 自定义过滤函数
 */
var filters = {
  /**
   * 字符串截取
   * 
   * str 需要截取的字符串
   * len 字符需要截取的长度
   * 
   */
  subStrCut: function (str, len) {
    return str.substring(0, len);
  },
}
// 输出对象
module.exports = {
  subStrCut: filters.subStrCut
}
</code></pre><h3 id="点击事件返回的参数"><a href="#点击事件返回的参数" class="headerlink" title="点击事件返回的参数"></a>点击事件返回的参数</h3><pre><code>##  wxml
// data-id=&quot;{{ item.id }}&quot; 
// data-index=&quot;{{ index }}&quot;
// data-prefix=&quot;{{ item.prefix }}&quot;
传参 (只有这边传了参数下面event 里面才能接受到)

&lt;i-swipeout i-class=&quot;i-swipeout-demo-item&quot; wx:for=&quot;{{ list }}&quot; wx:key=&quot;{{ index }}&quot; wx:for-item=&quot;item&quot; data-id=&quot;{{ item.id }}&quot; data-index=&quot;{{ index }}&quot; data-prefix=&quot;{{ item.prefix }}&quot; bind:change=&quot;handleBtn&quot; actions=&quot;{{ actions }}&quot;&gt;
    &lt;view slot=&quot;content&quot;&gt;
      &lt;navigator wx:if=&quot;{{ item.history.hasHistory == true }}&quot; url=&apos;&apos;&gt;
        &lt;image class=&quot;book-images&quot; src=&apos;https://bookcover.yuewen.com/qdbimg/349573/1011705052&apos;&gt;&lt;/image&gt;
        &lt;i-cell title=&quot;{{ item.title }}&quot;&gt;&lt;/i-cell&gt;
      &lt;/navigator&gt;   
      &lt;navigator wx:else url=&apos;&apos;&gt;
        &lt;image class=&quot;book-images&quot; src=&apos;https://bookcover.yuewen.com/qdbimg/349573/1011705052&apos;&gt;&lt;/image&gt;
        &lt;i-cell title=&quot;{{ item.title }}&quot;&gt;&lt;/i-cell&gt;
      &lt;/navigator&gt;
      &lt;view class=&quot;trace&quot;&gt;上次读到：{{ item.history.chapter.title }}&lt;/view&gt;
      &lt;view class=&quot;trace&quot;&gt;更新时间:&lt;/view&gt;
    &lt;/view&gt;
  &lt;/i-swipeout&gt;


  &lt;!-- &lt;i-swipeout wx:for=&quot;{{ list }}&quot; wx:key=&quot;{{ index }}&quot; wx:for-item=&quot;item&quot; data-index=&quot;{{ index }}&quot; data-prefix=&quot;{{ item.prefix }}&quot; bind:change=&quot;handleBtn&quot; actions=&quot;{{ actions }}&quot;&gt;
    &lt;view slot=&quot;content&quot;&gt;
      &lt;i-cell title=&quot;{{ item.novel.title }}&quot; label=&quot;{{ item.novel.author }}&quot; value=&quot;{{ item.chapter.title }}&quot; is-link url=&quot;/pages/content/index?novelId={{item.novel.id}}&amp;code={{ item.prefix }}&amp;chapterId={{ item.chapter.id }}&amp;platformId={{ item.platform.id }}&quot;&gt;&lt;/i-cell&gt;
    &lt;/view&gt;
&lt;/i-swipeout&gt; --&gt;

  ## js
handleBtn: function (event) {
    const index = event.target.dataset.index;
    const novelId = event.target.dataset.id;
    this.likePass(novelId, index);
},
</code></pre><h3 id="代码记录"><a href="#代码记录" class="headerlink" title="代码记录"></a>代码记录</h3><pre><code>   handleBtn: function (event) {
   // const actionIndex = event.detail.index;
   const index = event.target.dataset.index;
   const novelId = event.target.dataset.id;
   // const platformId = event.target.dataset.pid;
   this.likePass(novelId, index);
   // if (novelId &gt; 0) {
   //   switch (actionIndex) {
   //     case 0:
   //       wx.navigateTo({ url: &apos;/pages/detail/index?id=&apos; + novelId + &apos;&amp;platformId=&apos; + platformId });      
   //       break;
   //     case 1:
   //       this.likePass(novelId, index);
   //       break;
   //     default:
   //   }
   // }
 },

### 想数组后添加字段

let contents = data.contents.concat(data.contents.unshift(title));
</code></pre><h3 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h3><pre><code>操作     异步方法            同步方法
插入     wx.setStorage        wx.setStorageSync
读取     wx.getStorage        wx.getStorageSync
删除     wx.removeStorage   wx.removeStorageSync
清空     wx.clearStorage    wx.clearStorageSync
获取（全部缓存信息）wx.getStorageInfo     wx.getStorageInfoSync

Page({
    save: function(e){
    console.log(&apos;开始保存&apos;)
    // 异步
    wx.setStorage({
      key: &apos;key1&apos;,
      data: &apos;data1&apos;,
      success: function(res){
        console.log(&apos;异步保存成功&apos;)
      }
    })
    // 获取缓存数据
    const openId = wx.getStorageInfo(&apos;openId&apos;) 

    // 同步缓存
    wx.setStorageSync(&apos;key2&apos;, &apos;data2&apos;)
    console.log(&apos;同步保存成功&apos;)
  }
})
</code></pre><h3 id="跳转"><a href="#跳转" class="headerlink" title="跳转"></a>跳转</h3><pre><code>redirectTo：关闭当前页，跳转到指定页；
navigateTo：保留当前页，跳转到指定页；
switchTap：只能用于跳转到tabbar页面，并关闭其他非tabbar页面。

onUnload: function () {
    wx.redirectTo({
      url: &apos;../index/index&apos;
    })
    wx.navigateTo({
      url: &apos;../index/index&apos;
    })
    wx.switchTab({
      url: &apos;../../member/member&apos;
    })
  },
</code></pre><h3 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h3><p>&lt;img src=’<a href="https://upload-images.jianshu.io/upload_images/2210124-97d8396f573ed57e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/792" target="_blank" rel="noopener">https://upload-images.jianshu.io/upload_images/2210124-97d8396f573ed57e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/792</a> /&gt;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/小程序/">小程序</a><a class="article-category-link" href="/categories/小程序/前端框架/">前端框架</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/小程序/">小程序</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术分享/">技术分享</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-react-问题解答" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/05/06/react-问题解答/" class="article-date">
      <time datetime="2019-05-06T04:01:45.000Z" itemprop="datePublished">2019-05-06</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/06/react-问题解答/">react 基础知识</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>react 特点</p>
<ul>
<li>声名式开发    </li>
<li>可以与其他框架并存</li>
<li>组件化</li>
<li>单向流数据</li>
<li>视图层框架</li>
<li>函数式编程</li>
</ul>
<h5 id="props-state-render"><a href="#props-state-render" class="headerlink" title="props, state render"></a>props, state render</h5><pre><code>state 和 props 中数据改变render函数 执行
父组件的render函数重新执行的时候子组件的render 也会执行
</code></pre><h5 id="虚拟DOM-（js-对象，js-和-js-比较不耗性能，-真实dom-对比比较耗性能-）"><a href="#虚拟DOM-（js-对象，js-和-js-比较不耗性能，-真实dom-对比比较耗性能-）" class="headerlink" title="虚拟DOM （js 对象，js 和 js 比较不耗性能， 真实dom 对比比较耗性能 ）"></a>虚拟DOM （js 对象，js 和 js 比较不耗性能， 真实dom 对比比较耗性能 ）</h5><pre><code>1. state数据
2. JSX模版
3. 数据+模版结合,生成真实的DoM,来显示
4. state发生改变
5. 数据+模版结合,生成真实的DOM,替换原始的DOM

缺陷：
数据改变完整替换DOM,非常好性能

解决方案1：

5. 数据+模版结合,生成真实的DOM,并不直接替换原始的DOM
6. 新的DOM (DoucumentFragment) 和原始的DOM做比对,找差异
7. 找出input框发生了变化
8. 只用新的DOM中的input元素,替换掉老的DOM中的input元素

解决方案2：（推荐）

1. state数据 
2. JSX模版 
3· 生成虚拟DOM (虚拟DOM就是一个JS对象,用它来描述真实DOM)
[&apos;div&apos;, (id: &apos;abc&apos;}, [&apos;span&apos;, t), &apos;hello world&apos;]]
4. 用虚拟DOM生成真实的DOM,来显示
&lt;div id=&apos;abc&apos;&gt;&lt;span&gt;hello world&lt;/span&gt;&lt;/div&gt;
5. state发生变化 
6. 数据+模版 结合,生成新的虚拟DOM
[&apos;div&apos;, (id: &apos;abc&apos;}, [&apos;span&apos;, t), &apos;bye bye&apos;]]
7. 比较原始虚拟DOM和新的虚拟DOM的区别,找到区别的内容（提升性能）diff 算法
8. 直接操作DOM,改变span中的内容


render() {
const { content, test }= this.props;
// JSx-&gt; createELemnt-&gt; 虚拟DOM (JS对象) -&gt;真实的DOM
return (&lt;div&gt;&lt;span&gt;item&lt;/span&gt;&lt;/div&gt;
return React.createELement(&apos;div&quot;, {}, React.createELement(&apos;span&apos;, {}, &apos;dddd&apos;)
}

优点：
1. 性能提升
2. 它能跨端应用得以实现
</code></pre><h5 id="虚拟DOM-diff-（原始虚拟DOM和新的虚拟DOM的区别比对）"><a href="#虚拟DOM-diff-（原始虚拟DOM和新的虚拟DOM的区别比对）" class="headerlink" title="虚拟DOM  diff （原始虚拟DOM和新的虚拟DOM的区别比对）"></a>虚拟DOM  diff （原始虚拟DOM和新的虚拟DOM的区别比对）</h5><pre><code>1. 同层比对
2. 不能用 key={index}作为key 值 （item,用它本身做key值）
3. setdata 可以吧多次比对合并成一次比对
</code></pre><h5 id="监听获取输入同步-react-ref-获取dom-（onChange）"><a href="#监听获取输入同步-react-ref-获取dom-（onChange）" class="headerlink" title="监听获取输入同步  react ref (获取dom) （onChange）"></a>监听获取输入同步  react ref (获取dom) （onChange）</h5><pre><code>&lt;input className=&quot;search-input fl&quot; type=&quot;search&quot; onChange={this.handlechange.bind(this)}  onKeyUp={this.onKeyup.bind(this)}/&gt;


handlechange(event) {
    let val = event.target.value.replace(/^\s+|\s+$/g,&quot;&quot;);
    this.setState(() =&gt; ({ keyword: val }));
};

onKeyup(e) {
    if(e.keyCode === 13) {
        if (this.state.keyword.length &gt; 1) {
            this.setState(() =&gt; ({page: 1 }));
            this.getData()
        }
    }
}


&lt;form className=&quot;form-menu&quot; ref=&quot;form&quot;&gt;
&lt;label&gt;&lt;i&gt;*&lt;/i&gt;作品名称:&lt;/label&gt;
&lt;input className=&quot;input-border&quot; defaultValue={title} ref=&quot;title&quot;/&gt;
&lt;button type=&quot;button&quot; className=&quot;submit&quot; onClick={this.submitFun.bind(this)}&gt;{this.state.modalTitle}&lt;/button&gt;
&lt;/form&gt;

 // 表单提交
    submitFun() {
        const {formData} = this.state;
        const { title } = this.refs;
        const inputData = {};
        if (title.value.length &lt; 2) {
            this.setState(() =&gt; ({hint: &apos;作品名称不能少于2个字符&apos; }));
        } else {
            inputData.title =  title.value;
            if(formData.id) {
                inputData.id = formData.id;
                this.edit(BACKEND_UPDATA_URL, inputData);
                return 
            }
            this.setState(() =&gt; ({formData: inputData }));
            this.add(BACKEND_CREATE_URL, inputData)
        }
    };

  父组件调用子组件中的方法

    子组件

    import React from &apos;react&apos;;

    export default class Message extends React.Component {
    constructor(props) {
    super(props);
    this.state = {
        message: &apos;&apos;
    }

    };
    componentDidMount() { 
    this.props.onRef(this) 
    } 
    reminding(ms) {
    this.setState(() =&gt; ({ message: ms}));
        setTimeout(() =&gt; { 
            this.setState(() =&gt; ({ message: &apos;&apos; })) 
        },3000 )
    }
    render() { 
        return (
            &lt;p className={this.state.message.length &gt; 0 ? &quot;message-hint-active&quot; : &apos;message-hint&apos; }&gt;{this.state.message}&lt;/p&gt;
            ) 
        }
    }


    父组件：

     &lt;Message onRef={this.onRef} /&gt;

    onRef = (ref) =&gt; {
        this.Message = ref
    }

    that.Message.reminding(res.data.message)
</code></pre><h5 id="setSate-函数的方法（异步方法）"><a href="#setSate-函数的方法（异步方法）" class="headerlink" title="setSate 函数的方法（异步方法）"></a>setSate 函数的方法（异步方法）</h5><pre><code>this.setSate((prevState) =&gt; ({
    list: [...prevState.list, inputValue],
    inputValue: &apos; &apos;
}), () =&gt; {
    // 回调方法执行完数据存储后执行可以获取刚才同步的数据
})
</code></pre><h5 id="生命周期函数（组件自动调用的函数）"><a href="#生命周期函数（组件自动调用的函数）" class="headerlink" title="生命周期函数（组件自动调用的函数）"></a>生命周期函数（组件自动调用的函数）</h5><pre><code>1. constructor()
    es6 语法自带构造函数

组件挂载

1、componentWillMount()

    页面挂载之前调用，以后组件更新不调用，只调用一次，此时可以修改state。

2、 render()

    react最重要的步骤，创建虚拟dom，进行diff算法，更新dom树都在此进行。此时就不能更改state了。

3、componentDidMount()

    组件挂载之后调用，组件渲染之后调用，只调用一次。


组件更新

componentWillReceiveProps(nextProps)
    组件接受新的props时调用。
    组件从父组件接收参数(第一次不会执行)
    父组件render 重新执行了才被执行

   props 更新                  state 更新

    1. componentWillUpdata(nextProps, nextState) // 需要返回一个bloo (true, false)

        组件更新之前时才调用，此时可以修改state

    2. shouldComponentUpdate(nextProps, nextState)

        组件更新之前时才调用，(componentWillUpdata 之后执行)
        react性能优化非常重要的一环。组件接受新的state或者props时调用，我们可以设置在此对比前后两个props和state是否相同，如果相同则返回false阻止更新，因为相同的属性状态一定会生成相同的dom树，这样就不需要创造新的dom树和旧的dom树进行diff算法对比，节省大量性能，尤其是在dom结构复杂的时候

    3. render()
        组件渲染

    4. componentDidUpdate()

        组件更新完成后调用，此时可以获取dom节点。

组件卸载：

componentWillUnmount()

    组件将要卸载时调用，一些事件监听和定时器需要在此时清除。



默认设置:

1、getDefaultProps()

    设置默认的props，也可以用dufaultProps设置组件的默认属性.

2、getInitialState()

    在使用es6的class语法时是没有这个钩子函数的，可以直接在constructor中定义this.state。此时可以访问this.props
</code></pre><h5 id="React-css-动画效果"><a href="#React-css-动画效果" class="headerlink" title="React css 动画效果"></a>React css 动画效果</h5><pre><code>&lt;p className={this.state.message.length &gt; 0 ? &quot;show&quot; : &apos;hind&apos; }&gt;{this.state.message}&lt;/p&gt;

显示隐藏
  .show {transition: all 1s ease-in;opacity: 0;}
  .hind {transition: all 1s ease-in; opacity: 1;}

显示隐藏变色 

  .show {opacity: 1;transition: all 1s ease-in;}
  .hide {animation: hide-item 2s ease-in forwards;}
  @keyframes hide-item {
  0% {
       opacity: 1;color: red;
  }
  50% {
  opacity: 0.5;color: green;

  }
  100% {
  opacity: 0;color: blue;
  }

第三方动画模块 react-transition-group
地址： https://reactcommunity.org/react-transition-group/
</code></pre><h5 id="redux"><a href="#redux" class="headerlink" title="redux"></a>redux</h5><p> 基本原则：</p>
<pre><code>1. store 是唯一的
2. 只有store能够改变自己的内容 
2. reducer: 必须是纯函数 （给定固定的函数，就会有固定的输出，不会有任何副作用(不能对参数进行修改，)
</code></pre><p>核心API</p>
<pre><code>createStore             创建store
store.dispath           更新上传 
store.getState          获取
store.subscribe         改变时触发
</code></pre><h5 id="组件："><a href="#组件：" class="headerlink" title="组件："></a>组件：</h5><pre><code>子组件直接调用父组件方法 

    &lt;div onClick={(index) =&gt; {this.props.handlechange(index)}}&gt;&lt;/div&gt;
</code></pre><ol>
<li>普通组件 （逻辑和渲染都在一个组件）</li>
<li>ul组件 （少量的逻辑 + 无状态组件）</li>
<li>容器组件（逻辑）</li>
<li>无状态组件 （渲染不加逻辑处理）</li>
</ol>
<pre><code>//  无状态组件
import React, { Component } from &apos;react&apos;;
const TodoListUI = (props)=&gt; {
return (
&lt;div&gt; 
&lt;div&gt;&lt;Inputvalue {props. inputValue) 
onChange {props.handLeInputChange}/&gt;
&lt;Button onclick={props.handleBtnclick) /div&gt;
&lt;/div）
</code></pre><h5 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h5><pre><code>redux-thunk

1. store -&gt; action 可以是函数和对象
2. store -&gt; dispath 方法的升级

redux-sage
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/前端框架/">前端框架</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术分享/">技术分享</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-我个人博客的第一篇博客，哈哈哈" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/05/06/我个人博客的第一篇博客，哈哈哈/" class="article-date">
      <time datetime="2019-05-06T01:25:16.000Z" itemprop="datePublished">2019-05-06</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/06/我个人博客的第一篇博客，哈哈哈/">我个人博客的第一篇博客，哈哈哈</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>什么是Hexo?</p>
<p>Hexo官网中说是这么描述的：A fast, simple &amp; powerful blog framework,即:一个快速、简单且强大的博客快速生产工具。它的简单体现在你完全有可能在30分钟内就生成属于你的个人博客。而它的强大体现在你对细节的调整上完全有可能花上一天的时间。<br>一、巧妇难为无米之炊:准备搭建环境<br>1.安装node.js</p>
<p>Node.js 的实质是一个JavaScript运行环境,这里我们主要使用它来生成我们博客的静态页面。从官网下载最新的安装包进行默认安装就好。安装过程略。<br>2.安装git环境</p>
<p>git是最流行的分布式版本控制系统，我们使用它主要是与github进行交互。安装git使用默认选项安装即可，安装过程略。如果你还对git不是特别熟悉，推荐一个学习git的教程:传送门<br>3.注册github</p>
<p>github就不用说了吧，它是一个面向开源及私有软件项目的托管平台。几乎所有的程序员都听说过它的大名。就正常注册一个账号就好了。</p>
<p>注册号以后首先给我们的账号添加本机的SSH，具体方法及原因在这篇文章已经有了详细说明，并且方法也很简单<br>二、上正菜：开始搭建博客</p>
<p>环境都准备好后，我们就可以开始安装博客了:</p>
<p>1.创建文件夹</p>
<p>在本地新建一个文件夹用于存放我们的博客，并且右键菜单选择Git Bash Here,然后在Git Bash里输入：</p>
<pre><code>npm install hexo

hexo init  --初始化hexo环境,这时会在目录下自动生成hexo的文件

npm install --安装npm依赖包

hexo generate --生成静态页面

hexo server --生成本地服务
</code></pre><p>2.连接本地与远程github仓库</p>
<h6 id="打开本地博客的文件夹，打开-config-yml进行编辑"><a href="#打开本地博客的文件夹，打开-config-yml进行编辑" class="headerlink" title="打开本地博客的文件夹，打开_config.yml进行编辑"></a>打开本地博客的文件夹，打开<strong>_config.yml</strong>进行编辑</h6><pre><code>deploy:

type: git

repo: git@github.com:yourname/yourname.github.io.git -- 项目地址

branch: master
</code></pre><h6 id="后在GitBash中执行"><a href="#后在GitBash中执行" class="headerlink" title="后在GitBash中执行"></a>后在GitBash中执行</h6><pre><code>npm install hexo-deployer-git --save

hexo deploy
</code></pre><h3 id="Hexo的基本命令"><a href="#Hexo的基本命令" class="headerlink" title="Hexo的基本命令"></a>Hexo的基本命令</h3><pre><code>hexo generate --生成个人博客所需的静态页面

hexo server --本地预览

hexo deploy --部署我们的个人博客

hexo clean --清除缓存
</code></pre><p>缩写</p>
<pre><code>hexo g --generate

hexo s --server

hexo d --deploy
</code></pre><p>写文章的需要用到下面的命令</p>
<pre><code>hexo new &quot;postName&quot; --新建文章

hexo new page &quot;pageName&quot; --新建页面

hexo s --debug
</code></pre><p>每次部署的步骤是</p>
<pre><code>hexo clean

hexo generate

hexo deploy
</code></pre><p>hexo init 出来的文件各自的作用如下:</p>
<pre><code>`----------- | +-- .deploy #hexo deploy生成的文件 | +-- node_modules #npm组件 | +-- public #生成的静态网页文件 | +--scaffolds #模板 | +-- source #博客正文和其他源文件 | | +-- _posts #我们自己写的文章以md结尾 | +-- themes #主题 | +-- _config.yml #全局配置文件 | `-- package.json #定义了hexo所需要的各种模块
</code></pre><p>5.配置文件</p>
<pre><code># Hexo Configuration ## Docs: http://hexo.io/docs/configuration.html ## Source: https://github.com/hexojs/hexo/ # Site #站点信息 title: #标题 subtitle: #副标题 description: #站点描述，给搜索引擎看的 author: #作者 email: #电子邮箱 language: zh-CN #语言 # URL #链接格式 url: #网址 root: / #根目录 permalink: :year/:month/:day/:title/ #文章的链接格式 tag_dir: tags #标签目录 archive_dir: archives #存档目录 category_dir: categories #分类目录 code_dir: downloads/code permalink_defaults: # Directory #目录 source_dir: source #源文件目录 public_dir: public #生成的网页文件目录 # Writing #写作 new_post_name: :title.md #新文章标题 default_layout: post #默认的模板，包括 post、page、photo、draft（文章、页面、照片、草稿） titlecase: false #标题转换成大写 external_link: true #在新选项卡中打开连接 filename_case: 0 render_drafts: false post_asset_folder: false relative_link: false highlight: #语法高亮 enable: true #是否启用 line_number: true #显示行号 tab_replace: # Category &amp; Tag #分类和标签 default_category: uncategorized #默认分类 category_map: tag_map: # Archives 2: 开启分页 1: 禁用分页 0: 全部禁用 archive: 2 category: 2 tag: 2 # Server #本地服务器 port: 4000 #端口号 server_ip: localhost #IP 地址 logger: false logger_format: dev # Date / Time format #日期时间格式 date_format: YYYY-MM-DD #参考http://momentjs.com/docs/#/displaying/format/ time_format: H:mm:ss # Pagination #分页 per_page: 10 #每页文章数，设置成 0 禁用分页 pagination_dir: page # Disqus #Disqus评论，替换为多说 disqus_shortname: # Extensions #拓展插件 theme: landscape-plus #主题 exclude_generator: plugins: #插件，例如生成 RSS 和站点地图的 - hexo-generator-feed - hexo-generator-sitemap # Deployment #部署，将 lmintlcx 改成用户名 deploy: type: git repo: github创库地址.git branch: master
</code></pre><hr>
<p>作者：catalinaLi<br>来源：CSDN<br>原文：<a href="https://blog.csdn.net/a3212/article/details/77099492" target="_blank" rel="noopener">https://blog.csdn.net/a3212/article/details/77099492</a> </p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/新起点/">新起点</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术分享的启程/">技术分享的启程</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2019 Benzheng Li
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style="display:none">
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style="display:none">
                        <span id="page-visit" title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>